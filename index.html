<!DOCTYPE HTML>
<html>
<head>
	<title>Our Love Story</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<style type="text/css">
		@font-face {
			font-family: digit;
			src: url('digital.ttf') format("truetype");
		}
	</style>
	<link href="css/default.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/garden.js"></script>
	<script type="text/javascript" src="js/functions.js"></script>
</head>

<body>
<!-- 倒计时容器 -->
<div id="countdown"></div>

<!-- 嵌入 index.html 的 iframe，初始隐藏 -->
<div id="index-page" style="display: none;">
	<iframe src="index2.html" width="100%" height="600px" frameborder="0"></iframe>
</div>

<script>
	// 获取当前年份并设置目标时间
	const currentYear = new Date().getFullYear();
	// const targetDate = new Date(currentYear, 11, 31, 23, 59, 55); // 12月31日23:59:55
	const targetDate = new Date(Date.now() + 4000); // 12月31日23:59:55
	

	function updateCountdown() {
            const now = new Date();
            const timeLeft = targetDate - now; // 剩余时间（毫秒）

            if (timeLeft <= 0) {
                // 倒计时结束，跳转到 index.html
                window.location.href = "index2.html"; // 直接跳转
                return;
            }

            // 更新倒计时显示（这里假设有一个容器显示剩余时间）
            const seconds = Math.floor((timeLeft / 1000) % 60);
            const minutes = Math.floor((timeLeft / (1000 * 60)) % 60);
            const hours = Math.floor((timeLeft / (1000 * 60 * 60)) % 24);
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));

            document.getElementById("countdown").textContent = 
                `${days}天 ${hours}小时 ${minutes}分钟 ${seconds}秒`;
        }
	// 每秒更新倒计时
	setInterval(updateCountdown, 1000);
</script>



<div id="mainDiv">
	<div id="content">
		<div id="code">
			<span class="comments">##</span><br/>
			<span class="comments"># 我不是很懂浪漫,</span><br/>
			<span class="comments"># 但我总想给你带来一点小惊喜.</span><br/>
			<span class="comments"># 所以我就去clone了这个js项目.</span><br/>
			<span class="comments"># 希望能让你再开心一点点.</span><br/>
			<span class="comments">##</span><br/>
			i = Boy(<span class="string">"WSK"</span>);<br/>
			u = Girl(<span class="string">"FY"</span>);<br/>
			<span class="comments"># 2014.09.01, 我们在初三相遇，偷偷喜欢你</span><br/>
			i.meet(u)<br/>
			<span class="comments"># 2024龙年，我鼓起勇气再次找到了你. </span><br/>
			i.find(u)<br/>
			<span class="comments"># 2024.3.10 我们在一起啦！</span><br/>
			together(u, i)<br/>
			<span class="comments"># 从那天起，两个恋爱脑，每一天都很开心，简简单单，快快乐乐.</span><br/>
			happy(u, i)<br/>
			<span class="comments"># 我们享受生活.</span><br/>
			life(u, i)<br/>
			<span class="comments"># 我们经营自己的家.</span><br/>
			home(u, i)<br/>
			<span class="comments"># 我们攻略了很多美食.</span><br/>
			food(u, i)<br/>
			<span class="comments"># 我们游玩了整个天津.</span><br/>
			tianjin(u, i)<br/>
			<span class="comments"># 我们之间从未有过争吵.</span><br/>
			love(u, i)<br/>
			<span class="comments"># 我们一起努力向着更好的方向发展.</span><br/>
			u.in_harmony_with(i) <br/>
			i.in_harmony_with(u) <br/>
			<span class="comments"># 你是我这辈子最爱的一个人.</span><br/>
			while <span class="keyword">True</span>:<br/>
			<span class="placeholder"></span><span class="keyword">if</span> u.with(i):<br/>
			<span class="placeholder"></span><span class="placeholder"></span>u = everything<br/>
			<span class="placeholder"></span><span class="keyword">else</span>:<br/>
			<span class="placeholder"></span><span class="placeholder"></span>everything = u<br/>
			<span class="comments"># 一起加油，期待毕业，期待白头偕老.</span><br/>
			i.marry(u, in_the_future=<span class="keyword">True</span>)<br/>
			i.live_happily_forever_with(u)<br/>
			<span class="comments"># 我爱你，方雨.</span><br/>
		</div>
		<div id="loveHeart">
			<canvas id="garden"></canvas>
			<div id="words">
				<div id="messages">
					FY, I have fallen in love with you for
					<div id="elapseClock"></div>
				</div>
				<div id="loveu">
					Love u forever and ever.<br/>
					<div class="signature">- Shuaikun Wang | Yu Fang</div>
				</div>
			</div>
		</div>
	</div>
	<div id="copyright">
		<!-- Author © 2024 <a href='http://cuiqingcai.com'>cuiqingcai.com</a> 2014-2020 -->
		Author: WSK © 2024.3.10
	</div>
</div>
<script type="text/javascript">
	var offsetX = $("#loveHeart").width() / 2;
	var offsetY = $("#loveHeart").height() / 2 - 55;
	var together = new Date();
	// 此处月份介于 0 ~ 11 之间。用本地时间表示，如 8 月要用 7 表示。
	together.setFullYear(2024, 2, 10);
	together.setHours(16);
	together.setMinutes(0);
	together.setSeconds(0);
	together.setMilliseconds(0);

	if (!document.createElement('canvas').getContext) {
		var msg = document.createElement("div");
		msg.id = "errorMsg";
		msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+";
		document.body.appendChild(msg);
		$("#code").css("display", "none")
		$("#copyright").css("position", "absolute");
		$("#copyright").css("bottom", "10px");
		document.execCommand("stop");
	} else {
		setTimeout(function () {
			startHeartAnimation();
		}, 5000);

		timeElapse(together);
		setInterval(function () {
			timeElapse(together);
		}, 500);

		adjustCodePosition();
		$("#code").typewriter();
	}
</script>
</body>
</html>
